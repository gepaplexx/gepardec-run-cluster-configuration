project:
  create: false
  name: gepaplexx

applications:
  ####################### CLUSTER-UPDATER #######################
  clusterUpdater:
    name: cluster-updater
    enabled: true
    argoProject: gepaplexx
    destination:
      namespace: gp-infrastructure
      create: true
    source:
      repoURL: "https://gepaplexx.github.io/gp-helm-charts/"
      chart: gp-cluster-update-checker
      targetRevision: "1.2.1"
      helm:
        parameters:
          - name: "clustername"
            value: "steppe"
          - name: "consoleUrl"
            value: "console.apps.steppe.gepaplexx.com"
          - name: "slack.channel"
            value: "AgBIPG9Zo8SxwkZbayJT7kKCFT8EETzn6qmwPLmV3H9KOgxUWsPdhKQZC0Qnkc6dGJk7jv/rDhnzzYJ62hSvIvgKh5FQQkOyIbAvWhIUeO7xSWQK38UhULmlIdnhMoo1NVbmdWCM/VyF8N4HizqeD2c6UnTmJuwbWR7vGFzxD622G+arsZ4Kx5mBGnfcNsDcSu2yiq3R47m3iB+KNgr3M9aJFAsQaWHiiufgFTTqJicNAfo3FjzrPPvOd57B/SZuL0QXOlxUMVzHA/RGn5/2J+LWjnbOXH4d3d6zwmgv0mLAor86hn301y3ZLVXqUaphaMsPuVv8/KEEpTYu1uyw10cCMSr8wlCa53O7RdgA3IGdjHi0y9qZxs+HFzuRVhWOPmcADN3iUiJV7FZtW0C2N7HfdO3V1365D2BXuT23b4OzGplm2oj02XKeNAN9cj2/oWTVx4tSyojr9L/5tnwHlN+Sg21ACiqhRoAmQRe4K6YO+YSDne6+hE3aDPGAdNQQHUSHe8JHhaxzS9DiHj/R/5waLaSrm9TWlT2t1gDqehAN1aPra/QI+ETJtVAA+eapv5PUq7sWRyjTdEBMEOLbClIwRcHQKj/fslNhYEv0ZLAN0JeyBJwmsXtth89m5wVDPz+0WIeH2JbkBr3xLcYXR4OY7No+YA/jdtCDntyXH4GmnLIW55z7fE0MmbxtniT2ryHiiM4vrRhPC90nNJykMaxrBP9+Kc4HP10Gbnf7yGlXfuDzP1sWPpDtImPTe8GMpdGqXntLlnS0FXOGeMVNIoFfqxT5GGlNmZN5xuaWwqNhrIo="
    syncPolicy:
      automated:
        prune: true
        selfHeal: true

  ####################### CLUSTER-LOGGING #######################
  clusterLogging:
    name: cluster-logging-instance
    enabled: true
    destination:
      namespace: openshift-logging
      create: false
    argoProject: gepaplexx
    source:
      repoURL: "https://gepaplexx.github.io/gp-helm-charts/"
      chart: gp-cluster-logging-instance
      targetRevision: "1.3.0"
      helm:
        parameters:
          - name: "elasticsearch.resources.requests.memory"
            value: "10Gi" # FIXME
          - name: "elasticsearch.resources.limits.memory"
            value: "10Gi" # FIXME
    syncPolicy:
      automated:
        prune: true
        selfHeal: true

  ####################### CLUSTER-LOGGING-EVENTROUTER #######################
  clusterLoggingEventrouter:
    name: cluster-logging-eventrouter
    enabled: true
    destination:
      namespace: openshift-logging
      create: false
    argoProject: gepaplexx
    source:
      repoURL: "https://gepaplexx.github.io/gp-helm-charts/"
      chart: gp-cluster-logging-eventrouter
      targetRevision: "0.1.1"
    syncPolicy:
      automated:
        prune: true
        selfHeal: true

  ##################### CLUSTER-MONITORING ######################
  clusterMonitoring:
    name: cluster-monitoring
    enabled: true
    argoProject: gepaplexx
    destination:
      namespace: openshift-monitoring
      create: true
    source:
      repoURL: "https://gepaplexx.github.io/gp-helm-charts/"
      chart: gp-cluster-monitoring-config
      targetRevision: "1.2.7"
      helm:
        parameters:
          - name: "alertmanager.config"
            value: "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"
          - name: "infranodes.enabled"
            value: "true"
    syncPolicy:
      automated: {}
        #prune: true
        #selfHeal: true

  ##################### OPENSHIFT IMAGE REGISTRY ######################
  internalRegistry:
    name: openshift-registry
    enabled: true
    argoProject: gepaplexx
    destination:
      namespace: gp-infrastructure
      create: true
    source:
      repoURL: "https://gepaplexx.github.io/gp-helm-charts/"
      chart: gp-ocp-internal-registry
      targetRevision: "1.1.1"
    syncPolicy:
      automated:
        prune: true
        selfHeal: true

  ####################### KASTEN K10 BACKUP ######################
  kasten-instance:
    name: k10
    enabled: true
    argoProject: gepaplexx
    destination:
      namespace: k10
      create: true
    source:
      repoURL: "https://gepaplexx.github.io/gp-helm-charts/"
      targetRevision: "0.0.5"
      chart: "gp-kasten-instance"
      helm:
        parameters:
          - name: "kasten.auth.clusterApiURL"
            value: "api.steppe.gepaplexx.com"
          - name: "kasten.route.host"
            value: "kasten.apps.steppe.gepaplexx.com"
          - name: "kasten.clusterName"
            value: "steppe"
    ignoreDifferences:
      - jsonPointers:
          - /spec/auth/openshift/clientSecret
        kind: K10
        group: apik10.kasten.io
    syncPolicy:
      automated:
        prune: true
        selfHeal: true

  ##################### GEPAPLEXX-CICD-TOOLS ######################
  gepaplexx-cicd-tools:
    name: gepaplexx-cicd-tools
    enabled: true
    argoProject: gepaplexx
    destination:
      namespace: gepaplexx-cicd-tools
      create: true
    source:
      repoURL: "https://gepaplexx.github.io/gp-helm-charts/"
      chart: gp-cicd-tools
      targetRevision: "0.4.2"
      helm:
        parameters:
          - name: "argocd.route.hostname"
            value: "argocd.apps.steppe.gepaplexx.com"
          - name: "argo_workflows.server.ingress.hosts[0]"
            value: "workflows.apps.steppe.gepaplexx.com"
          - name: "argo_workflows.server.ingress.tls[0].hosts[0]"
            value: "workflows.apps.steppe.gepaplexx.com"
          - name: "argo_workflows.server.ingress.tls[0].secretName"
            value: "workflows.apps.steppe.gepaplexx.com-tls"
          - name: "argo_rollouts.dashboard.ingress.hosts[0]"
            value: "rollouts.apps.steppe.gepaplexx.com"
          - name: "argo_rollouts.dashboard.ingress.tls[0].hosts[0]"
            value: "rollouts.apps.steppe.gepaplexx.com"
          - name: "argo_rollouts.dashboard.ingress.tls[0].secretName"
            value: "rollouts.apps.steppe.gepaplexx.com"
          - name: "sealedSecret.postgresql.password"
            value: "AgCDAZDLeivIhT3xE+2H+3SRn5hb+TwbAK86aE+Xyg4WTtBppLWONNCdlnQT/KJ7iDKT8vKC4SjOOLnwSwySfQCoQqZDQ/fo7sTkTDKr03EzFGDpbccD77mxYpQW+Go14VPoToascX36Cz4zc1smgCHHaoNAIX+Z0s4Ads6cjhF2SMBQ8E92e5Kj2wATPs/Y7uPgGiR08eonD/pLcXckj9nhHCFcKdbSBlEQRNmtQD1rWy7NqPnXBW+NGIRKBMWyyzwitdLB1BmpyZXUSDOq+AyjfSqiVNC1OEa0nxXDoWJzt7uQAybGD8LgCSrMyQRiUiDLy1wlqkmlbnmTWAwW7G68t5yR5x6s8QFpKSpSTrd2h2RsSZV4W4w9WAHVMSCFwxARAD/1FPuT3neNH630go/dZRBFKJi5ddK/jS0DvQGTSQqMBDAud/1jXI7zaJHGqOamVxhlfDwkzYP+ilLDbwPGRy0UO+MORFPnhw+aelRsyCdYm30fB/HUF7yY2+lKrtL5VTR87uEgwMGhM5fwpb7RMER3Bhr/DPaoPHzUehFMcB39PCibpog0eghMbuBtCvpapAOFL84M8mv+bQMVv64+5/w0PK5c3uA0/j/EljhSmmLA9SqhC00Cg9XJFzJQet1FZ1lWaIVrdOutt0ZTicsqFU0qHq+AO4j5PlgeL6KS3psimcT+ZQMhS5PD9pEs4I6bxgx88kT66QZT"
          - name: "sealedSecret.postgresql.postgresPassword"
            value: "AgA3HSgmbUIM+UX3pSAvsr4Wo9pU0zx2ja9itSYNuOFS44N3W3S96JOdkcYavk29hkRwhBcWV9kIzo1h2D1ihqpHeKwa2zhm9s9gILv+OP9PSwctrsbaBxgCDIU9Wv609Jd4G28rpSiZ6MDOD3sXnDqsie9aYWqEeYCFr17mQZkWGuSFnPbv/0n5hUT3/03e0K8CMo4kNcsryFdiaqU3uwvEwJ4baGkFKtFim+7/2lepo6dkJMr2thWtRZoait02GBLe+BaBpNhfOQ2BQkOoAulDkU1wl2OWcfzi7Ldu8N6TtXell771rGv0Je53KeFIN0emUPKMVs8so9LiJ+srZTlf9lGWK0YHpjzKfbxpT7I7XMcuP9mQ+4W3nSe8D79u61PcheRBWQ1MELDw7gHLL9KoHh7vSGDuTziyUmgFnQXxyicl6Dd2dZPfSDPxlSA6vBb6dfNwFThP8e6JriweC/IT1Act4EMscAQ6DOh/jXdkyRZH/zZfTqaFB4zSBzDo+vulIsbuK2m1PnfJPoofL2ZY4mnexy1U280STQZQ/UToMr/sm3NWOf3NPgoYjibOPSWX4KezHCgGSHvEOZ0vfRn+8nkEzs6wNKKEOi7RxjpgCOSmtGmytX1GOnIhB4Uwn5yZQNIB+1aiSjdeXVomkGsDu3600l7oaGytOXmtavoNCnIF/ztmdQymstAJVDZY9/KJle1o92VQ1WTE"
          - name: "sealedSecret.postgresql.username"
            value: "AgADG6AfLve+xdSl1yMW2a/Q5oMkowFPOpSTWq0XozeDh4yVdaz842R4QamOLkoxtq+w4273x7j9hLLDoGo/QtTbmWGh0W9A6vYsVak8jsSiRmjNMrO2y8T4rNEBMQkIG7OdfLpkwqIw6fcWhXLIIMEWsOL7Ek99uvbwhETC6nmGoWB0YEFNOakU28ihLNzhzT4OdmYEG7MGIiBDezYFWHToj0Bj2agTj3es2w4sbC+WXBzlrgdgDaj/aEAg+Qc1i4yXgoNtOdLXyga1TCjqhwLpCKmqNz9bF0GP1PbOxB2gYOHH/tecRCVu6PuVeGU/od+Bra2dCwC4/fPfq7EstoWqzGMusIEdeYOq9z27Hz2fRCGCWfDFetWKou7KkkPr9Vy2CC1JKZSl4E3Xqk7SbwUyPLVJ85vu0uEWrvGK0b8v6BxJLSJPS5jjNg9rt+lzIQblDNTZmqrhZ0e5LgHHnTNuHaNkxTzIthODUd+cjrzhfydkLo7JKpNEGb1Oew5RKZU8cWXj1XRFcB8GH3dNyc/z/GGdirqoyqquU8FGMDQVttiQ9berV7I3Qh+24JWTAKAS+q27Ft75aHKjOGrbEP6r68FLSW2P+YjfyCbzeaKVOU17UWDCrHQTy3jMXso0/rZi1Bfb+wUwJkgfn1q6FEjfxPABTlWrjttNyjtMixLP4N97riRY8++3RZ/9N42FgscgigdrDCigGcaLLVD0"
    syncPolicy:
      automated:
        prune: true
        selfHeal: true

  ##################### GEPAPLEXX-CICD-EVENTBUS ######################
  gepaplexx-cicd-eventbus:
    name: gepaplexx-cicd-eventbus
    enabled: true
    argoProject: gepaplexx
    destination:
      namespace: gepaplexx-cicd-eventbus
      create: true
    source:
      repoURL: "https://gepaplexx.github.io/gp-helm-charts/"
      chart: gepaplexx-cicd-eventbus
      targetRevision: "0.1.3"
    syncPolicy:
      automated:
        prune: true
        selfHeal: true

  ##################### GEPAPLEXX-CICD ######################
  gepaplexx-cicd:
    name: gepaplexx-cicd
    enabled: true
    argoProject: gepaplexx
    destination:
      namespace: openshift-gitops
      create: false
    source:
      repoURL: "git@github.com:gepaplexx/gepaplexx-cicd.git"
      targetRevision: "main"
      path: "clusters/steppe/applications"
    syncPolicy:
      automated:
        prune: true
        selfHeal: true

  ####################### Grafana Instance ######################
  grafana-instance:
    name: grafana-instance
    enabled: true
    argoProject: gepaplexx
    destination:
      namespace: grafana-operator-system
      create: true
    source:
      repoURL: "https://gepaplexx.github.io/gp-helm-charts/"
      targetRevision: "0.0.6"
      chart: "gp-grafana-instance"
      helm:
        parameters:
          - name: "datasource.prometheus.url"
            value: "https://thanos-querier-openshift-monitoring.apps.steppe.gepaplexx.com:443"
    ignoreDifferences:
      - jsonPointers:
          - /spec/datasources/0/secureJsonData/httpHeaderValue1
        kind: GrafanaDataSource
        group: integreatly.org
    syncPolicy:
      automated:
        prune: true
        selfHeal: true

    ##################### VAULT ######################
    vault:
      name: vault
      enabled: false
      argoProject: gepaplexx
      destination:
        namespace: gp-vault
        create: true
      source:
        repoURL: "https://gepaplexx.github.io/gp-helm-charts/"
        targetRevision: "2.0.0"
        chart: gp-hashicorp-vault
      ignoreDifferences:
        - group: admissionregistration.k8s.io
          jsonPointers:
            - /webhooks/0/clientConfig/caBundle
          kind: MutatingWebhookConfiguration
      syncPolicy:
        automated:
          prune: true
          selfHeal: true

